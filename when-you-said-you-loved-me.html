<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Timeline</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: lavender;
            text-align: center;
            padding: 30px;
            color: #3a0066;
            font-family: 'Nunito', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 2.5rem;
            margin-bottom: 20px;
            max-width: 900px;
            line-height: 1.4;
        }
        h2 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.5rem;
            margin-top: 20px;
            margin-bottom: 15px;
        }
        p {
            font-family: 'Nunito', sans-serif;
            font-size: 1.2rem;
            color: #4a2c6d;
            max-width: 800px;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        #photos-area, #timeline-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            min-height: 180px;
            width: 100%;
            max-width: 950px;
            padding: 20px;
            background-color: rgba(237, 231, 246, 0.5);
            border-radius: 15px;
            box-sizing: border-box;
        }
        .photo {
            width: 150px;
            height: 150px;
            border: 4px solid #4a2c6d;
            border-radius: 8px;
            cursor: grab;
            background-size: cover;
            background-position: center;
            transition: opacity 0.2s ease-in-out;
        }
        .photo.dragging {
            opacity: 0.4;
        }
        .timeline-slot {
            width: 150px;
            height: 150px;
            border: 4px dashed #3a0066;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #4a2c6d;
            font-size: 0.9rem;
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .timeline-slot.drag-over {
            background-color: #d1c4e9;
            border-style: solid;
        }
        .timeline-slot.correct {
            border-color: #4caf50; /* Green border for correct */
        }
        .timeline-slot.correct .photo {
            border-color: #4caf50;
        }
        #proceedBtn {
            display: none; /* Initially hidden */
            padding: 15px 30px;
            font-size: 1.5rem;
            background-color: #3a0066;
            color: lavender;
            border: 4px solid #2a004d;
            border-radius: 12px;
            cursor: pointer;
            text-decoration: none;
            transition: transform 0.2s, background-color 0.3s;
            font-family: 'Nunito', sans-serif;
            margin-top: 20px;
        }
        #proceedBtn:hover {
            transform: scale(1.05);
            background-color: #4d0099;
        }
    </style>
</head>
<body>

    <h1>You're doing great, keep going</h1>

    <h2>Instructions</h2>
    <p>Relive some of my favourite memories of us together, let's see if you remember which picture was clicked for what</p>

    <div id="photos-area">
        <div class="photo" draggable="true" data-id="match" style="background-image: url('match.png');"></div>
        <div class="photo" draggable="true" data-id="second" style="background-image: url('second.png');"></div>
        <div class="photo" draggable="true" data-id="fourth" style="background-image: url('fourth.png');"></div>
        <div class="photo" draggable="true" data-id="4" style="background-image: url('4.png');"></div>
        <div class="photo" draggable="true" data-id="5" style="background-image: url('5.png');"></div>
        <div class="photo" draggable="true" data-id="6" style="background-image: url('6.png');"></div>
    </div>

    <div id="timeline-area">
        <div class="timeline-slot" data-id="match">First Match</div>
        <div class="timeline-slot" data-id="second">Second Monthaversary</div>
        <div class="timeline-slot" data-id="fourth">Fourth Monthaversary</div>
        <div class="timeline-slot" data-id="4">Breakfast Date</div>
        <div class="timeline-slot" data-id="5">First Festival Together</div>
        <div class="timeline-slot" data-id="6">Eighth Monthaversary</div>
    </div>

    <a href="NEXT_PAGE.html" id="proceedBtn">PROCEED</a>

    <script>
        const photosArea = document.getElementById('photos-area');
        const timelineSlots = document.querySelectorAll('.timeline-slot');
        const photos = document.querySelectorAll('.photo');
        const proceedBtn = document.getElementById('proceedBtn');
        let draggedPhoto = null;

        photos.forEach(photo => {
            photo.addEventListener('dragstart', dragStart);
            photo.addEventListener('dragend', dragEnd);
        });

        timelineSlots.forEach(slot => {
            slot.addEventListener('dragover', dragOver);
            slot.addEventListener('dragleave', dragLeave);
            slot.addEventListener('drop', drop);
        });

        function dragStart(e) {
            draggedPhoto = this;
            setTimeout(() => this.classList.add('dragging'), 0);
        }

        function dragEnd() {
            this.classList.remove('dragging');
        }

        function dragOver(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }
        
        function dragLeave() {
            this.classList.remove('drag-over');
        }

        function drop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            if (this.children.length > 0) {
                const existingPhoto = this.children[0];
                const originalContainer = document.getElementById('photos-area');
                originalContainer.appendChild(existingPhoto);
            }
            
            this.appendChild(draggedPhoto);
            checkWinCondition();
        }

        function checkWinCondition() {
            let correctCount = 0;
            timelineSlots.forEach(slot => {
                const photo = slot.querySelector('.photo');
                if (photo) {
                    if (photo.dataset.id === slot.dataset.id) {
                        slot.classList.add('correct');
                        correctCount++;
                    } else {
                        slot.classList.remove('correct');
                    }
                } else {
                    slot.classList.remove('correct');
                }
            });

            if (correctCount === timelineSlots.length) {
                proceedBtn.style.display = 'inline-block';
            } else {
                proceedBtn.style.display = 'none';
            }
        }
    </script>
</body>
</html>
